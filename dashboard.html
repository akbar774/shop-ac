<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <title>Dashboard Order</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <!-- Logo -->
        <div class="logo">
            <img src="img/logo.webp" alt="Logo" width="100">
        </div>

        <!-- Form Order -->
        <h2>Dashboard Order</h2>

        <label for="nama">Nama:</label>
        <input type="text" id="nama" placeholder="Masukkan Nama">

        <label for="nomor">Nomor HP:</label>
        <input type="text" id="nomor" placeholder="Masukkan Nomor HP">

        <!-- Pilihan Paket dari db.json -->
        <label for="paket">Pilih Paket:</label>
        <select id="paket"></select>

        <!-- Metode Pembayaran -->
        <h3>Pilih Metode Pembayaran:</h3>
        <button onclick="bayarDANA()">Bayar dengan DANA</button>
        <button disabled>Bayar dengan OVO (Coming Soon)</button>
        <button disabled>Bayar dengan GOPAY (Coming Soon)</button>

        <!-- Link ke Admin Panel -->
        <a href="admin.html" id="adminLink">Login Admin</a>
    </div>

    <script src="admin.js"></script>
    <script>
        // Muat data paket dari db.json
        async function muatPaket() {
            try {
                const response = await fetch('db.json');
                const data = await response.json();
                const paketSelect = document.getElementById('paket');

                data.paket.forEach(item => {
                    const option = document.createElement('option');
                    option.value = `${item.nama}`;
                    option.textContent = `${item.nama}`;
                    paketSelect.appendChild(option);
                });
            } catch (error) {
                alert('Gagal memuat paket!');
                console.error('Error:', error);
            }
        }

        // Fungsi Pembayaran DANA
        function bayarDANA() {
            const nama = document.getElementById('nama').value.trim();
            const nomor = document.getElementById('nomor').value.trim();
            const paket = document.getElementById('paket').value;

            if (!nama || !nomor) {
                alert('Harap isi nama dan nomor HP!');
                return;
            }

            // Kirim pesanan ke WhatsApp
            const pesan = `Bang AC order jadi ${paket}, Nama: ${nama}, No: ${nomor}`;
            window.open(`https://wa.me/6285520790814?text=${encodeURIComponent(pesan)}`, '_blank');

            alert('Harap tunggu beberapa menit untuk proses!');
        }

        // Panggil fungsi muat paket saat halaman dimuat
        window.onload = muatPaket;
    </script>

</body>

</html>
